<template id="floating-viewer-template">
    <div class="floating-viewer-window" style="display: none; position: fixed; z-index: 3500;">
        <!-- Image container for zoom/pan -->
        <div class="fv-image-container" style="position: relative; overflow: hidden; border-radius: 10px;">
            <img class="fv-image" alt="" draggable="false" style="display: block; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.3); user-select: none; transform-origin: center center;" />
        </div>
        
        <!-- Control bar floats over image -->
        <div class="fv-control-bar" style="position: absolute; right: 4px; top: 4px; z-index: 2000; display: flex; gap: 4px; justify-content: flex-end;">
            <!-- Lock Button with SVG icons -->
            <button class="fv-lock" title="Lock position" style="background: rgba(200, 200, 200, 0.8); border: none; color: #666; cursor: pointer; padding: 0; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                <!-- Unlocked icon (shown by default) -->
                <svg class="fv-svg fv-svg-lock-open" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 9.9-1"></path>
                </svg>
                <!-- Locked icon (hidden by default, shown when locked) -->
                <svg class="fv-svg fv-svg-lock-closed" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
            </button>
            <!-- Minimize Button with magnifying glass icons -->
            <button class="fv-minimize" title="Minimize" style="background: rgba(200, 200, 200, 0.8); border: none; color: #666; cursor: pointer; padding: 0; width: 24px; height: 24px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                <!-- Zoom out icon (minimize) - shown by default -->
                <svg class="fv-svg fv-svg-zoom-out" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    <line x1="8" y1="11" x2="14" y2="11"></line>
                </svg>
                <!-- Zoom in icon (restore) - shown when minimized -->
                <svg class="fv-svg fv-svg-zoom-in" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    <line x1="11" y1="8" x2="11" y2="14"></line>
                    <line x1="8" y1="11" x2="14" y2="11"></line>
                </svg>
            </button>
            <!-- Close Button -->
            <button class="fv-close" title="Close" style="background: rgba(200, 200, 200, 0.8); border: none; color: #666; font-size: 14px; cursor: pointer; padding: 0; width: 24px; height: 24px; border-radius: 50%; line-height: 1; display: flex; align-items: center; justify-content: center;">âœ•</button>
        </div>
        
        <!-- Mobile resize handle (bottom-right corner) -->
        <div class="fv-resize-handle" style="position: absolute; right: 0; bottom: 0; width: 32px; height: 32px; display: none; align-items: flex-end; justify-content: flex-end; cursor: se-resize; touch-action: none; opacity: 0; transition: opacity 0.2s;">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="rgba(200,200,200,0.9)" stroke-width="2">
                <line x1="20" y1="4" x2="4" y2="20"/>
                <line x1="20" y1="10" x2="10" y2="20"/>
                <line x1="20" y1="16" x2="16" y2="20"/>
            </svg>
        </div>
    </div>
</template>
